[setup]
statement_files = ["sql/create_countries.sql"]

    [[setup.data_files]]
    target = "countries"
    source = "data/countries1.json" # paths are relative to the spec file

    [[setup.data_files]]
    target = "countries"
    source = "data/countries2.json.gz" # paths are relative to the spec file

    # Data can be generated by commands that output json lines on stdout
    [[setup.data_cmds]]
    target = "countries"
    cmd = ['echo', '{"capital": "Demo"}']

[[queries]]
name = "count countries" # Can be used to give the queries a name for easier analytics of the results
statement = "select count(*) from countries"
duration = 1
concurrency = 2

[[queries]]
statement = '''select count(*) from countries where "isoNumeric" = $1'''
args = ["020"]
iterations = 10
warmup = 5
concurrency = 1

[[queries]]
statement = '''delete from countries where "countryCode" = $1'''
bulk_args = [["AE"], ["AF"]]
# iterations = 1 & concurrency = 1 is the default for queries

[[queries]]
statement = 'select 10'
min_version = '20.80.2'

[teardown]
statements = ["drop table countries"]
